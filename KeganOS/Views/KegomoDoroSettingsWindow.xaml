<Window x:Class="KeganOS.Views.KegomoDoroSettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="KEGOMODORO Settings" 
        Height="450" Width="400"
        WindowStartupLocation="CenterOwner"
        Background="#0D0D0D"
        FontFamily="Consolas"
        WindowStyle="None"
        ResizeMode="NoResize"
        AllowsTransparency="True">
    
    <Border BorderBrush="#333333" BorderThickness="1" CornerRadius="5">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="35"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="50"/>
            </Grid.RowDefinitions>
            
            <!-- Title Bar -->
            <Border Grid.Row="0" Background="#1A1A1A" CornerRadius="5,5,0,0"
                    MouseDown="TitleBar_MouseDown">
                <Grid>
                    <TextBlock Text="âš™ KEGOMODORO Settings" 
                               Foreground="#87CEEB" FontWeight="Bold"
                               VerticalAlignment="Center" Margin="15,0,0,0"/>
                    <Button Content="âœ•" HorizontalAlignment="Right" 
                            Background="Transparent" Foreground="#888888"
                            BorderThickness="0" Width="35" Height="35"
                            Click="CloseButton_Click" Cursor="Hand"/>
                </Grid>
            </Border>
            
            <!-- Settings Content -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Margin="20">
                <StackPanel>
                    <!-- Timer Settings -->
                    <TextBlock Text="â±ï¸ Timer Durations" Foreground="#87CEEB" 
                               FontWeight="Bold" FontSize="14" Margin="0,0,0,15"/>
                    
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="80"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Work Session (minutes)" Foreground="#CCCCCC" 
                                   VerticalAlignment="Center"/>
                        <TextBox x:Name="WorkDurationInput" Grid.Column="1" 
                                 Background="#1A1A1A" Foreground="#FFFFFF"
                                 BorderBrush="#333333" Text="25" TextAlignment="Center"
                                 VerticalContentAlignment="Center" Height="30"/>
                    </Grid>
                    
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="80"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Short Break (minutes)" Foreground="#CCCCCC" 
                                   VerticalAlignment="Center"/>
                        <TextBox x:Name="ShortBreakInput" Grid.Column="1" 
                                 Background="#1A1A1A" Foreground="#FFFFFF"
                                 BorderBrush="#333333" Text="5" TextAlignment="Center"
                                 VerticalContentAlignment="Center" Height="30"/>
                    </Grid>
                    
                    <Grid Margin="0,0,0,20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="80"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Long Break (minutes)" Foreground="#CCCCCC" 
                                   VerticalAlignment="Center"/>
                        <TextBox x:Name="LongBreakInput" Grid.Column="1" 
                                 Background="#1A1A1A" Foreground="#FFFFFF"
                                 BorderBrush="#333333" Text="15" TextAlignment="Center"
                                 VerticalContentAlignment="Center" Height="30"/>
                    </Grid>
                    
                    <!-- Sound Settings -->
                    <TextBlock Text="ðŸ”Š Sound Settings" Foreground="#87CEEB" 
                               FontWeight="Bold" FontSize="14" Margin="0,0,0,15"/>
                    
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="80"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Enable Sounds" Foreground="#CCCCCC" 
                                   VerticalAlignment="Center"/>
                        <CheckBox x:Name="EnableSoundsCheckbox" Grid.Column="1" 
                                  IsChecked="True" HorizontalAlignment="Center"
                                  VerticalAlignment="Center"/>
                    </Grid>
                    
                    <Grid Margin="0,0,0,20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="80"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Volume (%)" Foreground="#CCCCCC" 
                                   VerticalAlignment="Center"/>
                        <TextBox x:Name="VolumeInput" Grid.Column="1" 
                                 Background="#1A1A1A" Foreground="#FFFFFF"
                                 BorderBrush="#333333" Text="50" TextAlignment="Center"
                                 VerticalContentAlignment="Center" Height="30"/>
                    </Grid>
                    
                    <!-- Image Customization -->
                    <TextBlock Text="ðŸŽ¨ Change Images" Foreground="#87CEEB" 
                               FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                    
                    <!-- Fire Image -->
                    <TextBlock Text="Fire Image (main_image.png)" Foreground="#888888" 
                               FontSize="10" Margin="0,0,0,5"/>
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <Border Background="#222222" CornerRadius="4" Width="50" Height="50">
                            <Image x:Name="FireImagePreview" Stretch="Uniform" Margin="5"/>
                        </Border>
                        
                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="10,0,0,0">
                            <Button Content="ðŸ“ Browse..." Background="#333333" Foreground="#CCCCCC"
                                    BorderThickness="0" Padding="10,5" Cursor="Hand"
                                    Click="BrowseFireImage_Click"/>
                            <TextBlock x:Name="FireImagePath" Text="main_image.png" 
                                       Foreground="#666666" FontSize="10" Margin="0,5,0,0"
                                       TextTrimming="CharacterEllipsis"/>
                        </StackPanel>
                    </Grid>
                    
                    <!-- Floating Widget Image -->
                    <TextBlock Text="Floating Widget (behelit.png)" Foreground="#888888" 
                               FontSize="10" Margin="0,0,0,5"/>
                    <Grid Margin="0,0,0,20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <Border Background="#222222" CornerRadius="4" Width="50" Height="50">
                            <Image x:Name="FloatingImagePreview" Stretch="Uniform" Margin="5"/>
                        </Border>
                        
                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="10,0,0,0">
                            <Button Content="ðŸ“ Browse..." Background="#333333" Foreground="#CCCCCC"
                                    BorderThickness="0" Padding="10,5" Cursor="Hand"
                                    Click="BrowseFloatingImage_Click"/>
                            <TextBlock x:Name="FloatingImagePath" Text="behelit.png" 
                                       Foreground="#666666" FontSize="10" Margin="0,5,0,0"
                                       TextTrimming="CharacterEllipsis"/>
                        </StackPanel>
                    </Grid>
                    
                    <!-- Themes -->
                    <TextBlock Text="ðŸŽ¨ Themes" Foreground="#87CEEB" 
                               FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                    <Button Content="[ ðŸŽ¨ Open Theme Gallery ]" Background="#252525" Foreground="#CCCCCC"
                            BorderBrush="#444444" BorderThickness="1" Padding="12,8" Cursor="Hand"
                            Click="OpenThemeGallery_Click" HorizontalAlignment="Left"/>
                </StackPanel>
            </ScrollViewer>
            
            <!-- Action Buttons -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" 
                        HorizontalAlignment="Right" Margin="20,10">
                <Button Content="Cancel" Width="80" Height="30" 
                        Background="#333333" Foreground="#CCCCCC"
                        BorderThickness="0" Margin="0,0,10,0"
                        Click="CancelButton_Click" Cursor="Hand"/>
                <Button Content="Save" Width="80" Height="30" 
                        Background="#87CEEB" Foreground="#000000"
                        BorderThickness="0" FontWeight="Bold"
                        Click="SaveButton_Click" Cursor="Hand"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
